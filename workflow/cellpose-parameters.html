
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Understanding and adjusting parameters &#8212; napari Segmentation learning course</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="../_static/styles/bootstrap.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=796348d33e8b1d947c94" rel="stylesheet">
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=4ec06e9971c5264fbd345897d5258098f11cc577" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94">
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=8bf782fb4ee92b3d3646425e50f299c4e1fd152d"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'workflow/cellpose-parameters';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Segmenting in napari, and exporting a mask in FIJI" href="cellpose-FIJI.html" />
    <link rel="prev" title="Cellpose-napari + FIJI" href="cellpose.html" />
    <script async defer data-domain="czi-napari-segmentation-workshop" src="https://plausible.io/js/plausible.js"></script>
    
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="docsearch:language" content="None">

  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>

  
  <input type="checkbox" class="sidebar-toggle" name="__primary" id="__primary">
  <label class="overlay overlay-primary" for="__primary"></label>

  
  <input type="checkbox" class="sidebar-toggle" name="__secondary" id="__secondary">
  <label class="overlay overlay-secondary" for="__secondary"></label>

  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
      
<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
  </div>

  
  <nav class="bd-header navbar navbar-expand-lg bd-navbar" id="navbar-main"><div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
      <span class="fa-solid fa-bars"></span>
  </label>
  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="../intro.html">

  
  
  
  
  
  
  

  
    <img src="../_static/Napari teacher.png" class="logo__image only-light" alt="Logo image">
    <img src="../_static/Napari teacher.png" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
  </div>

  
  <div class="col-lg-9 navbar-header-items">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../preface/about.html">
                        About this Project
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../preface/whomadethis.html">
                        Who made this course?
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../preface/imageanalysis.html">
                        Primer to image analysis
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../preface/feedback.html">
                        Frequently Asked Questions
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../onboard/whatisnapari.html">
                        What is napari?
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../onboard/gettingstarted.html">
                        Getting started with napari and plugins
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../onboard/gettingstarted-2.html">
                        Create a virtual environment and install napari
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../onboard/gettingstarted-3.html">
                        Installing napari plugins
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="cellpose.html">
                        
Cellpose-napari + FIJI
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="partseg.html">
                        
Classical segmentation with PartSeg
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="allencell.html">
                        Allen Cell Segmenter
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../closing.html">
                        Closing
                      </a>
                    </li>
                
                </div>
            </div>
            
    </ul>
</nav>
      </div>
      
    </div>

    <div id="navbar-end">
      
        <div class="navbar-end-item navbar-persistent--container">
          
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
        </div>
      
      
      <div class="navbar-end-item">
        <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
</button>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
    </div>
  </div>


  
  
    <div class="navbar-persistent--mobile">
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
    </div>
  

  
  <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
  </label>
  

</div>
  </nav>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        
  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../preface/about.html">
                        About this Project
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../preface/whomadethis.html">
                        Who made this course?
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../preface/imageanalysis.html">
                        Primer to image analysis
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../preface/feedback.html">
                        Frequently Asked Questions
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../onboard/whatisnapari.html">
                        What is napari?
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../onboard/gettingstarted.html">
                        Getting started with napari and plugins
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../onboard/gettingstarted-2.html">
                        Create a virtual environment and install napari
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../onboard/gettingstarted-3.html">
                        Installing napari plugins
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="cellpose.html">
                        
Cellpose-napari + FIJI
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="partseg.html">
                        
Classical segmentation with PartSeg
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="allencell.html">
                        Allen Cell Segmenter
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../closing.html">
                        Closing
                      </a>
                    </li>
                
                </div>
            </div>
            
    </ul>
</nav>
      </div>
      
      </div>
    

    
    
    <div class="sidebar-header-items__end">
      
      <div class="navbar-end-item">
        <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
</button>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
    </div>
    
  </div>

  
  <div class="sidebar-start-items sidebar-primary__section">
    <div class="sidebar-start-items__item">
  


<a class="navbar-brand logo" href="../intro.html">

  
  
  
  
  
  
  

  
    <img src="../_static/Napari teacher.png" class="logo__image only-light" alt="Logo image">
    <img src="../_static/Napari teacher.png" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    </div>
    <div class="sidebar-start-items__item">
<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
    <div class="sidebar-start-items__item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    napari Cell Segmentation Course
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Preface</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../preface/about.html">About this Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../preface/whomadethis.html">Who made this course?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../preface/imageanalysis.html">Primer to image analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../preface/feedback.html">Frequently Asked Questions</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Onboarding to napari</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../onboard/whatisnapari.html">What is napari?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../onboard/gettingstarted.html">Getting started with napari and plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../onboard/gettingstarted-2.html">Create a virtual environment and install napari</a></li>
<li class="toctree-l1"><a class="reference internal" href="../onboard/gettingstarted-3.html">Installing napari plugins</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Segmentation Workflows</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="cellpose.html">
Cellpose-napari + FIJI</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Understanding and adjusting parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="cellpose-FIJI.html">Segmenting in napari, and exporting a mask in FIJI</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="partseg.html">
Classical segmentation with PartSeg</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="partseg-nuclei.html">Segmentation of nuclei</a></li>
<li class="toctree-l2"><a class="reference internal" href="partseg-foci.html">Segmentation of foci</a></li>
<li class="toctree-l2"><a class="reference internal" href="partseg-quantification.html">Quantification of segmented regions</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="allencell.html">Allen Cell Segmenter</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="allencell-protocol.html">Protocol for segmentation workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="allencell-parameters.html">Explanation of parameters and their effects</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Closing</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../closing.html">Closing</a></li>
</ul>

    </div>
</nav>
    </div>
  </div>
  

  
  <div class="sidebar-end-items sidebar-primary__section">
    <div class="sidebar-end-items__item">
    </div>
  </div>

  
  <div id="rtd-footer-container"></div>

      </div>
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

        <div class="bd-content">
          <div class="bd-article-container">
            
            <div class="bd-header-article">
                



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        <label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" data-toggle="tooltip" data-placement="right" title="Toggle primary sidebar">
            <span class="fa-solid fa-bars"></span>
        </label>
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="btn btn-sm"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<div class="dropdown dropdown-repository-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      <li><a href="https://github.com/chanzuckerberg/napari-segmentation-workshop" target="_blank"
   class="btn btn-sm dropdown-item"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">repository</span>
</a>
</a>
      
      <li><a href="https://github.com/chanzuckerberg/napari-segmentation-workshop/issues/new?title=Issue%20on%20page%20%2Fworkflow/cellpose-parameters.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm dropdown-item"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">open issue</span>
</a>
</a>
      
  </ul>
</div>



<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      <li><a href="../_sources/workflow/cellpose-parameters.md" target="_blank"
   class="btn btn-sm dropdown-item"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</a>
      
      <li>
<button onclick="printPdf(this)"
  class="btn btn-sm dropdown-item"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</a>
      
  </ul>
</div>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary" data-toggle="tooltip" data-placement="left" title="Toggle secondary sidebar">
            <span class="fa-solid fa-list"></span>
        </label>
    </div>
</div>
            </div>
            
            

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Understanding and adjusting parameters</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#opening-the-cellpose-napari-plugin">
   Opening the
   <em>
    Cellpose-napari
   </em>
   plugin
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#cellpose-parameters">
   Cellpose parameters
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>

            <article class="bd-article" role="main">
              
  <section class="tex2jax_ignore mathjax_ignore" id="understanding-and-adjusting-parameters">
<h1>Understanding and adjusting parameters<a class="headerlink" href="#understanding-and-adjusting-parameters" title="Permalink to this headline">#</a></h1>
<section id="opening-the-cellpose-napari-plugin">
<h2>Opening the <em>Cellpose-napari</em> plugin<a class="headerlink" href="#opening-the-cellpose-napari-plugin" title="Permalink to this headline">#</a></h2>
<p><img alt="Opening cellpose in the napari menu" src="../_images/cellpose1.png" /></p>
<p>After you’ve launched the napari viewer, you may open the <em>Cellpose-napari</em> plugin by clicking on the <strong>Plugins</strong> menu at the top of the screen. The plugin should open the panel shown below on the right side of the screen.</p>
<p><img alt="Opening cellpose in the napari menu" src="../_images/cellpose2.png" /></p>
</section>
<section id="cellpose-parameters">
<h2>Cellpose parameters<a class="headerlink" href="#cellpose-parameters" title="Permalink to this headline">#</a></h2>
<p>As a reference, here is a description of the Cellpose parameters to assist you in using and optimizing Cellpose for your data.</p>
<p><strong>Image layer</strong></p>
<p>Define the layer or image that will be segmented using cellpose.</p>
<p><strong>Model type for pretrained model</strong></p>
<ul class="simple">
<li><p>the <strong>cyto</strong> model (Cytoplasm), to segment cells stained for their cytoplasm</p></li>
<li><p>the <strong>nuclei</strong> model (Nuclei) to segment cell nuclei</p></li>
<li><p>the <strong>cyto2</strong> model (Cytoplasm 2.0), which is the cyto model augmented with user-submitted images</p></li>
<li><p>the <strong>Custom</strong> model, which lets you specify a custom model you have trained or downloaded. Select this under: <strong>custom model path</strong> &gt; <strong>select file</strong></p></li>
</ul>
<p><strong>Channel to segment</strong></p>
<p>Indicate the channel that will be segmented. If the channel contains cytoplasmic structures, it should be associated with the <strong>cyto</strong> and <strong>cyto2</strong> pretrained models, or nuclei with the <strong>nuclei</strong> model.</p>
<p><strong>Segmentation of RGB images</strong></p>
<ul class="simple">
<li><p>‘0’ means that cellpose will run on a grayscale combination of all channels.</p></li>
<li><p>‘1’ stands for the first channel, corresponding to the red channel in an RGB image.</p></li>
<li><p>‘2’ and ‘3’ correspond to the green and blue channels in an RGB image.</p></li>
</ul>
<p><strong>Segmentation of multi-channel image</strong></p>
<ul class="simple">
<li><p>Ignore the ‘red’, ‘green’, blue’ labels and rely on channel order (found under the image, near the slider).</p></li>
</ul>
<p>OR</p>
<ul class="simple">
<li><p>Isolate the channel of interest: <strong>right click</strong> on the layer and select <strong>Split Stack</strong></p></li>
<li><p>Select it on the <strong>Image layer option</strong>, channel to segment: 0</p></li>
</ul>
<p><strong>Optional nuclear channel</strong></p>
<p>The cytoplasm model in cellpose is trained on two-channel images, where the first channel is the channel to segment and the second channel is an optional nuclear channel. Here are the options for each:</p>
<ul class="simple">
<li><p>channel 1. 0=grayscale, 1=red, 2=green, 3=blue, 4 …</p></li>
<li><p>channel 2. 0=None (will set to zero), 1=red, 2=green, 3=blue, 4.</p></li>
</ul>
<p>The nuclear model in cellpose is trained on two-channel images, where the first channel is the channel to segment, and the second channel is always set to an array of zeros. Therefore, set the first channel as 0=grayscale, 1=red, 2=green, 3=blue; and set the second channel to 0=None</p>
<p><strong>Diameter (in pixels)</strong> <!-- I am really not sure if this is what I was supposed to do. Originally this was part of the line above and it said, "* Diameter (pixel):" --></p>
<p>The cellpose models have been trained on images which were rescaled to all have the same diameter (30 pixels in the case of the cyto model and 17 pixels in the case of the nuclei model). Therefore, cellpose needs a user-defined cell diameter (in pixels) as input, or to estimate the object size of an image-by-image basis. If 0 cellpose will estimate for each image, default is 30. <!-- The last sentence doesn't make sense to me. Does it mean that if the user-defined cell diameter (in pixels) is 0, cellpose will estimate for each image with a default of 30 pixels? --></p>
<ul class="simple">
<li><p>Click <strong>compute diameter from image</strong> to start diameter estimation. However, if this estimate is incorrect, please set the diameter by hand.</p></li>
</ul>
<p>OR</p>
<ul class="simple">
<li><p>You can also get an estimate from clicking on the image, creating a napari ‘Shapes’ layer and drawing circles or squares around your cells. If you click <strong>compute diameter from shape layer</strong>, the plugin will set the diameter to the average diameter of the drawn shapes. <!-- I couldn't figure out how to draw shapes the size I wanted. I have done it before. This time the shapes came out huge and I couldn't figure out how to resize them or make them come out smaller. --></p></li>
</ul>
<p>Changing the diameter will change the results that the algorithm outputs. When the diameter is set smaller than the true size, cellpose may over-split cells. If the diameter is set too big then cellpose may over-merge cells.</p>
<p><strong>Cell probability threshold (number of masks)</strong></p>
<p>This is the threshold to determine masks. Decrease this threshold if cellpose is not returning as many masks as expected. Increase this threshold if cellpose is returning too many masks, particularly from dim areas.</p>
<p><strong>Model match threshold (Mask quality threshold)</strong></p>
<p>To check that the recovered shapes after the flow dynamics step are consistent with real masks, we recompute the flow gradients for these putative predicted masks, and compute the mean squared error between them and the flows predicted by the network.</p>
<p>The model match threshold parameter is the inverse of the maximum allowed error of the flows for each mask. Decrease this threshold if cellpose is not returning as many masks as you’d expect. Increase this threshold if cellpose is returning too many ill-shaped masks.</p>
<p><strong>Average 4 nets</strong></p>
<p>This is the option to control network performance vs time. If unchecked, only 1 network will be used to process the channel allowing a faster, yet less accurate,  segmentation. If checked, an average of 4 networks will be used, and the segmentation will be slower but more accurate.</p>
<p><strong>Resample dynamics</strong></p>
<p>If not checked, the processing will be done on a diameter = 30 pixels. If checked, the processing will be done based on the original image. Masks will be smoother.</p>
<p><strong>Process stack as 3D</strong></p>
<p>Cellpose can segment 3D and 4D stacks. If there is a channel axis, specify it by labelling it with ‘c’.</p>
<p>To run 3D processing, check <strong>“process stack as 3D”</strong>.</p>
<p>If the 3D segmentation is not working well and there is inhomogeneity in Z, try <strong>stitching masks</strong> using the <strong>“stitch threshold slices</strong> option instead of checking <strong>process stack as 3D</strong>. In this setting, cellpose will create masks in 2D on each XY slice and then stitch them across slices if the intersection over union (IoU) between the mask on the current slice and the next slice is greater than or equal to the stitch threshold slices.</p>
<p><strong>Clear previous results</strong></p>
<p>If checked, this removes all previous data.</p>
<p><strong>Output flows and cellprob</strong></p>
<p>Show a layer containing the gradient vector field (combination of the predicted horizontal and vertical gradients, as well as whether a pixel belongs to any cell).</p>
<p><strong>Output outlines</strong></p>
<p>Show a layer containing cell boundaries.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./workflow"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

            </article>
            

            
            
            <footer class="bd-footer-article">
                <!-- Previous / next buttons -->
<div class='prev-next-area'>
  <a class='left-prev' id="prev-link" href="cellpose.html" title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
          <p class="prev-next-subtitle">previous</p>
          <p class="prev-next-title">
Cellpose-napari + FIJI</p>
      </div>
  </a>
  <a class='right-next' id="next-link" href="cellpose-FIJI.html" title="next page">
  <div class="prev-next-info">
      <p class="prev-next-subtitle">next</p>
      <p class="prev-next-title">Segmenting in napari, and exporting a mask in FIJI</p>
  </div>
  <i class="fa-solid fa-angle-right"></i>
  </a>
</div>
            </footer>
            
          </div>
          
          
          
            <div class="bd-sidebar-secondary bd-toc">
              
<div class="toc-item">
  
<div class="tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
</div>
<nav id="bd-toc-nav" class="page-toc">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#opening-the-cellpose-napari-plugin">
   Opening the
   <em>
    Cellpose-napari
   </em>
   plugin
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#cellpose-parameters">
   Cellpose parameters
  </a>
 </li>
</ul>

</nav>
</div>

            </div>
          
          
        </div>
        <footer class="bd-footer-content">
          <div class="bd-footer-content__inner">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By CZI Imaging Team
</p>

  </div>
  
  <div class="footer-item">
    
<p class="copyright">

    &copy; Copyright 2022.<br>

</p>

  </div>
  
  <div class="footer-item">
    <p class="last-updated">
Last updated on None.<br>
</p>
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </div>
        </footer>
        

      </main>
    </div>
  </div>

  
    
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94"></script>

  </body>
</html>